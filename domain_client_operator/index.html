<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Domain Operator"><title>domain_client_operator - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-4e54bb2b497cc83f.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="domain_client_operator" data-themes="" data-resource-suffix="" data-rustdoc-version="1.77.0-nightly (25f8d01fd 2024-01-18)" data-channel="nightly" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-f2adc0d6ca4d09fb.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-0b2e2def73e61cbe.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../domain_client_operator/index.html">domain_client_operator</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Aliases</a></li></ul></section></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../domain_client_operator/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">domain_client_operator</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/domain_client_operator/lib.rs.html#17-218">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="domain-operator"><a href="#domain-operator">Domain Operator</a></h2><h3 id="domains"><a href="#domains">Domains</a></h3>
<p>Domains, the enshrined rollups solution of Subspace, is a configurable execution
framework allowing for the simple, secure and low-cost deployment of application
specific blockchain called domain.</p>
<h3 id="operators"><a href="#operators">Operators</a></h3>
<p>In Subspace, the farmers offering the storage resources are responsible for maintaining
the consensus layer, operators are a separate class of contributors in the system focusing
on the execution layer, they provide the necessary computational resources to maintain the
blockchain state by running domains. Some deposits as the stake are required to be an operator.</p>
<p>Specifically, operators have the responsibity of producing a [<code>Bundle</code>] which contains a
number of [<code>ExecutionReceipt</code>]s on each slot notified from the consensus chain. The operators
are primarily driven by two events from the consensus chain.</p>
<ul>
<li>
<p>On each new slot, operators will attempt to solve a domain-specific bundle election
challenge derived from a global randomness provided by the consensus chain. Upon finding
a solution to the challenge, they will start producing a bundle: they will collect a set
of extrinsics from the transaction pool which are verified to be able to cover the transaction
fee. With these colltected extrinsics, the bundle election solution and proper receipts, a
[<code>Bundle</code>] can be constructed and then be submitted to the consensus chain. The transactions
included in each bundle are uninterpretable blob from the consensus chain’s persepective.</p>
</li>
<li>
<p>On each imported consensus block, operators will extract all the needed bundles from it
and convert the bundles to a list of extrinsics, construct a custom <a href="../domain_block_builder/struct.BlockBuilder.html"><code>BlockBuilder</code></a> to
build a domain block. The execution trace of all the extrinsics and hooks like
<code>initialize_block</code>/<code>finalize_block</code> will be recorded during the domain block execution.
Once the domain block is imported successfully, the [<code>ExecutionReceipt</code>] of this block
will be generated and stored locally.</p>
</li>
</ul>
<p>The receipt of each domain block contains all the intermediate state roots during the block
execution, which will be gossiped in the domain subnet (in future). All operators whether running as an
authority or a full node will compute each block and generate an execution receipt independently,
once the execution receipt received from the network does not match the one produced locally,
a <a href="../sp_domains/struct.FraudProof.html"><code>FraudProof</code></a> will be generated and reported to the consensus chain accordingly.</p>
</div></details><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="domain_bundle_producer/index.html" title="mod domain_client_operator::domain_bundle_producer">domain_bundle_producer</a></div></li><li><div class="item-name"><a class="mod" href="domain_bundle_proposer/index.html" title="mod domain_client_operator::domain_bundle_proposer">domain_bundle_proposer</a></div></li></ul><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.BootstrapResult.html" title="struct domain_client_operator::BootstrapResult">BootstrapResult</a></div></li><li><div class="item-name"><a class="struct" href="struct.DomainBlockImportNotification.html" title="struct domain_client_operator::DomainBlockImportNotification">DomainBlockImportNotification</a></div></li><li><div class="item-name"><a class="struct" href="struct.Operator.html" title="struct domain_client_operator::Operator">Operator</a></div><div class="desc docblock-short">Domain operator.</div></li><li><div class="item-name"><a class="struct" href="struct.OperatorParams.html" title="struct domain_client_operator::OperatorParams">OperatorParams</a></div></li><li><div class="item-name"><a class="struct" href="struct.OperatorSlotInfo.html" title="struct domain_client_operator::OperatorSlotInfo">OperatorSlotInfo</a></div><div class="desc docblock-short">Data required to produce bundles on executor node.</div></li><li><div class="item-name"><a class="struct" href="struct.OperatorStreams.html" title="struct domain_client_operator::OperatorStreams">OperatorStreams</a></div><div class="desc docblock-short">Notification streams from the consensus chain driving the executor.</div></li></ul><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.fetch_domain_bootstrap_info.html" title="fn domain_client_operator::fetch_domain_bootstrap_info">fetch_domain_bootstrap_info</a></div></li><li><div class="item-name"><a class="fn" href="fn.load_execution_receipt.html" title="fn domain_client_operator::load_execution_receipt">load_execution_receipt</a></div><div class="desc docblock-short">Load the execution receipt for given consensus block hash.</div></li></ul><h2 id="types" class="section-header"><a href="#types">Type Aliases</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.DomainImportNotifications.html" title="type domain_client_operator::DomainImportNotifications">DomainImportNotifications</a></div></li><li><div class="item-name"><a class="type" href="type.ExecutionReceiptFor.html" title="type domain_client_operator::ExecutionReceiptFor">ExecutionReceiptFor</a></div></li><li><div class="item-name"><a class="type" href="type.OpaqueBundleFor.html" title="type domain_client_operator::OpaqueBundleFor">OpaqueBundleFor</a></div></li></ul></section></div></main></body></html>